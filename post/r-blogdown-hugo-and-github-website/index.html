<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.21" />
  <meta name="author" content="Jillian Deines">
  <meta name="description" content="PhD Candidate">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Coupled Human-Water Systems">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Coupled Human-Water Systems">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="/post/r-blogdown-hugo-and-github-website/">

  

  <title>How to make a website with R blogdown, Hugo, and GitHub | Coupled Human-Water Systems</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Coupled Human-Water Systems</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">How to make a website with R blogdown, Hugo, and GitHub</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2017-05-31 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Wed, May 31, 2017
    </time>
  </span>

  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/r">R</a
    >, 
    
    <a href="/categories/hugo">Hugo</a
    >, 
    
    <a href="/categories/github">Github</a
    >, 
    
    <a href="/categories/website">website</a
    >
    
  </span>
  
  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/r">R</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fr-blogdown-hugo-and-github-website%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=How%20to%20make%20a%20website%20with%20R%20blogdown%2c%20Hugo%2c%20and%20GitHub&amp;url=%2fpost%2fr-blogdown-hugo-and-github-website%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fr-blogdown-hugo-and-github-website%2f&amp;title=How%20to%20make%20a%20website%20with%20R%20blogdown%2c%20Hugo%2c%20and%20GitHub"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fr-blogdown-hugo-and-github-website%2f&amp;title=How%20to%20make%20a%20website%20with%20R%20blogdown%2c%20Hugo%2c%20and%20GitHub"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=How%20to%20make%20a%20website%20with%20R%20blogdown%2c%20Hugo%2c%20and%20GitHub&amp;body=%2fpost%2fr-blogdown-hugo-and-github-website%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      <p>R Markdown has long been a key component of my research workflow, providing a legible “lab notebook” for my daily analyses. I’ve wanted to transition my Wordpress-based website to GitHub Pages for some time, preferably using R Markdown to better integrate into my workflow. I was pretty thrilled to discover the R <code>blogdown</code>, Hugo, and GitHub pages combination. I was able to set it up in an afternoon, and I have high hopes that it will be a good system to allow me to share my research and analyses with a broader audience.</p>
<p>This post is a “how-to”, but due to time limitations it’s more of a cheat-sheet to my future self than a full tutorial - basic Git/Github knowledge, etc., is assumed. For more complete coverage, here are a few resources I used to piece this together (note some really good information was also provided in the comment sections of these blog posts):</p>
<ul>
<li><a href="https://proquestionasker.github.io/blog/Making_Site/" class="uri">https://proquestionasker.github.io/blog/Making_Site/</a></li>
<li><a href="http://robertmyles.github.io/2017/02/01/how-to-make-a-github-pages-blog-with-rstudio-and-hugo/" class="uri">http://robertmyles.github.io/2017/02/01/how-to-make-a-github-pages-blog-with-rstudio-and-hugo/</a></li>
</ul>
<p><em>Disclaimer: There’s a very good chance that the route I took was not the most efficient. I also use Windows and haven’t considered other systems for this post. User beware.</em></p>
<div id="general-approach" class="section level2">
<h2>General approach</h2>
<p>Github pages expects the website to be in the master branch, but blogdown stores all of the final site elements in a “public” subfolder. There seem to be two main approaches to get them to play nicely together. In one (described in the first link above), the user creates a sub branch in the main repository to store all of the source files in, leaving the public folder materials in the main branch. In the second method (described in the second post), the user creates two repositories on Github. One is the main username.github.io pages repo, the other is for all of the source files. These are then linked using Git Submodules. I chose to use the latter approach.</p>
<div id="blogdown-and-hugo" class="section level3">
<h3>Blogdown and Hugo</h3>
<p>First thing’s first: the <code>blogdown</code> package and <a href="https://gohugo.io/">Hugo</a> need to be installed. You can also begin choosing your theme at this point - <a href="http://themes.gohugo.io/">find a theme here</a>.</p>
<pre class="r"><code># install Blogdown from Github
install.packages(&#39;devtools&#39;)
devtools::install_github(&#39;rstudio/blogdown&#39;)

# use blogdown to install Hugo
library(blogdown)
install_hugo()</code></pre>
</div>
<div id="github" class="section level3">
<h3>Github</h3>
<p>Set up your Github repositories. We’ll follow the “User Page” example where your website is going to use your Github username: username.github.io.</p>
<p>Using the <code>+</code> icon in the upper right corner of your github page, create the following new repositories. Don’t bother creating a README.md, as <code>blogdown</code> needs an empty directory. I think. At any rate, you don’t need a README.</p>
<ul>
<li>username.github.io, replacing ‘username’ with your username. This will be used to host your site on the master branch, using the ‘public’ folder produced from Hugo</li>
<li>website-hugo - This repository will contain all the source files from blogdown/Hugo</li>
</ul>
</div>
<div id="back-to-rstudio" class="section level3">
<h3>Back to RStudio</h3>
<p>Next we need to create the site in RStudio using <code>blogdown</code> and Hugo, and then link this with the two repositories. In my normal research life, I tend to use R Projects with the built-in git capabilities, but for some reason, that gave me a lot of problems in this case. So I created an R Project for the Hugo source files, but then manually added Git to the folder and manually linked it with Github via Git Bash (rather than just intializaing the R Project straight from the Github repository, which is what I usually do. That kept crashing for me today).</p>
<p>So, either create an R Project or just use a dedicated working directory for your website source files. If not using an R Project, set your working directory using <code>setwd(&quot;path/to/your/folder&quot;)</code>. Note that commands such as <code>new_site()</code> and <code>serve_site()</code> will load your website in the RStudio viewer, and you will need to hit the stop sign to exit viewing mode and go back to coding.</p>
<p>This is also where you will install your theme, <a href="http://themes.gohugo.io/">found here</a>. Being an academic type, I chose <a href="http://themes.gohugo.io/academic/">Academic</a>.</p>
<pre class="r"><code># create your site
library(blogdown)
new_site() # then hit stop

# install theme
install_theme(&quot;gcushen/hugo-academic&quot;, theme_example = TRUE, update_config = TRUE)

# make/view website with new theme
serve_site() # then hit stop</code></pre>
<p>You’ll notice there are now a bunch of folders and files in your working directory, including the ‘public’ folder. Don’t move anything manually - we’ll do it in Git Bash.</p>
</div>
<div id="git-bashterminal" class="section level3">
<h3>Git Bash/Terminal</h3>
<p>This part got a little fuzzy for me, because I ran into several problems including SSH authentication, the R Project Git confusion I mentioned above, and I seemed to also have a problem using the git submodule command on an empty repo. So this could probably be tweaked over time, because I’m not sure if all the steps I took are required in sequence.</p>
<p>Open your terminal/Git Bash and <code>cd</code> to your project directory for the source files (website-hugo to match my github repo, in my case). If you’re not set up with SSH yet, <a href="https://help.github.com/articles/connecting-to-github-with-ssh/">do that here</a>.</p>
<p>Remove the public folder</p>
<pre class="r"><code>rm -r public/</code></pre>
<p>Initialize a git repository</p>
<pre class="r"><code>git init
git remote add origin git@github.com:username/website-hugo.git</code></pre>
<p>Try linking the public folder with your username.github.io repo via a submodule now, but it didn’t work for me just yet…</p>
<pre class="r"><code>git submodule add git@github.com:username/username.github.io.git public</code></pre>
<p>Instead, I had to commit and push my hugo source files first, then run the submodule command</p>
<pre class="r"><code>git add -A
git commit -m &#39;initial commit&#39;
git push origin master

git submodule add git@github.com:username/username.github.io.git public</code></pre>
<p>Leave Git Bash open, but go back to R Studio</p>
</div>
<div id="back-to-rstudio-1" class="section level3">
<h3>Back to RStudio</h3>
<p>Not really sure if this is necessary…but make a few changes to site, such as altering the config file or trying <code>new_post(&quot;Hello World&quot;)</code>, then “compile” the site again.</p>
<pre class="r"><code># make a test post if you&#39;re into that
new_post(&#39;Hello World&#39;)

# compile site changes
serve_site() # then hit stop</code></pre>
</div>
<div id="back-to-git-bash" class="section level3">
<h3>Back to Git Bash</h3>
<p>Now we need to commit our new changes and push them to the “public” folder. So, if you were already in your project directory:</p>
<pre class="r"><code>cd public

git add -A
git commit -m &#39;initial site&#39;
git push origin master</code></pre>
<p>And Voila! your website should now be available at username.github.io, and you should have a whole mess of files in your username.github.io repository now. Repeat those steps for any website changes you make:</p>
<ul>
<li>work on your site in RStudio</li>
<li>run <code>serve_site()</code></li>
<li>open Git Bash, cd to your public folder, and add/commit/push changes</li>
</ul>
<p>I had also made a local repository for username.github.io…but I’m not sure if that’s necessary either. I haven’t used it yet, and you can always recreate the files pretty easily with blogdown/Hugo.</p>
</div>
</div>
<div id="further-tips-on-creating-content" class="section level2">
<h2>Further tips on creating content</h2>
<p>I’m learning this as we speak with this blog post, but the rmd = TRUE argument took me a moment.</p>
<pre class="r"><code># to make a new blog post, using Rmd instead of md:
new_post(title=&#39;How to make a website with R blogdown, Hugo, and GitHub&#39;, 
         rmd = TRUE, 
         categories = c(&#39;R&#39;, &#39;Hugo&#39;, &#39;Github&#39;,&#39;website&#39;), 
         tags = c(&#39;R&#39;))</code></pre>
</div>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    

    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'disqus_5GwQnxOiuI';
    var disqus_identifier = '\/post\/r-blogdown-hugo-and-github-website\/';
    var disqus_title = 'How to make a website with R blogdown, Hugo, and GitHub';
    var disqus_url = '\/post\/r-blogdown-hugo-and-github-website\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Jillian Deines &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="/js/hugo-academic.js"></script>
    

    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

